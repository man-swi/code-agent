# ğŸ¤– AI Code Assistant Agent

This is a Streamlit-based interactive Python code assistant powered by Groq's Llama3 and a ReAct-based LangChain agent. It provides users with an explainable, sandboxed coding experience using a strict **Human-in-the-Loop (HIL)** execution model.

---

## ğŸš€ Features

- ğŸ” **ReAct Agent Framework**: Implements a strict Reasoning + Acting cycle using LangChain.
- âœ… **Human-in-the-Loop (HIL)**: Code is never auto-executed. Users must approve proposed Python code before execution.
- ğŸ§  **Llama3 (via Groq)**: Supports `llama3-70b-8192` and `llama3-8b-8192` models.
- ğŸ“Š **Visualization Support**:
  - Auto-detects JSON plot output for simple charts.
  - Saves complex plots as images (e.g., PNGs) using `matplotlib` or `seaborn`.
- ğŸ’¬ **Session Memory**: Supports multi-chat sessions with conversation history and dynamic naming.
- â±ï¸ **Performance Metrics**: Measures time taken for each task.
- ğŸ“¥ **File Output Handling**: Automatically surfaces and provides download links for files generated by the agent.
- ğŸ‘ **Feedback Collection**: Users can rate results with thumbs up/down.

---

## ğŸ§± Architecture Overview

```

Streamlit UI
â”‚
â”œâ”€â”€ custom\_code\_agent.py         # Streamlit app logic & UI
â”œâ”€â”€ agent/
â”‚   â”œâ”€â”€ core.py                  # LangChain agent executor setup
â”‚   â”œâ”€â”€ prompt.py                # Strict ReAct prompt template
â”‚   â”œâ”€â”€ llm\_config.py            # Groq LLM configuration
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ python\_executor.py       # Executes approved Python code
â”‚   â”œâ”€â”€ task\_completed.py        # Handles task completion signaling
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ callbacks.py             # Callback handler for HIL + logging
â””â”€â”€ .env                         # Environment file for GROQ\_API\_KEY

````

---

## âš™ï¸ Prerequisites

- **Python**: 3.11+
- **Groq API Key**: [Get it here](https://console.groq.com/)
- **Dependencies**:
  - `streamlit`
  - `langchain`
  - `langchain-groq`
  - `python-dotenv`
  - `pandas`, `matplotlib`, `seaborn`
  - `psutil` (optional, for system metrics)

---

## ğŸ“¦ Installation

1. **Clone the repository**:

   git clone https://github.com/man-swi/code-agent.git
   cd code-agent


2. **Set up virtual environment (recommended)**:

 
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
  

3. **Install requirements**:

   pip install -r requirements.txt
   

4. **Create `.env` file**:

   ```
   GROQ_API_KEY=your_api_key_here
   ```

---

## â–¶ï¸ Usage

### Start the App

```bash
streamlit run custom_code_agent.py
```

Then open [http://localhost:8501](http://localhost:8501) in your browser.

### Example Prompts

* `Generate a function to calculate factorial recursively`
* `Plot a line graph with x=[1,2,3], y=[10,20,30]`
* `Save the list [1, 2, 3] into a CSV file`

---

## âš™ï¸ Configuration Options (via Sidebar)

* **LLM Model**: Choose between `llama3-70b-8192` and `llama3-8b-8192`
* **Temperature**: Adjust model creativity (0.0 = deterministic, 1.0 = creative)
* **API Key**: Enter/verify your Groq API Key
* **New Chat**: Reset agent memory and start a new conversation
* **Conversation Selector**: Resume any saved chat session

---

## ğŸ› ï¸ Troubleshooting

* **App crashes or doesnâ€™t start**:

  * Ensure your `.env` file contains a valid `GROQ_API_KEY`
  * Verify correct Python version and installed packages

* **Agent gets stuck**:

  * Ensure `task_completed` is being called (check console for logs)
  * Try resetting the session via "New Chat" button

* **No chart or file shown**:

  * Double-check if the agent output includes `PLOT_DATA_JSON_START` or file generation confirmation

---

## ğŸ¤ Contributing

PRs welcome! To contribute:

1. Fork the repo
2. Create a feature branch (`git checkout -b my-feature`)
3. Commit and push changes
4. Submit a pull request with your improvements

---

## ğŸ“„ License

MIT License â€“ see the [LICENSE](LICENSE) file.

---

## ğŸ‘¤ Author

* **Manaswi Kamble**
* GitHub: [@man-swi](https://github.com/man-swi)
* Email: [kamblemanswi8@gmail.com](mailto:kamblemanswi8@gmail.com)

